# 🧮 小学生クイズゲーム - Math Game

このリポジトリは、**小学校2年生・3年生向けの加減乗除クイズゲーム**です。  
GitHub Pages を使用してオンラインでプレイできるように公開しています。


---

## 🎮 プレイはこちらから

👉 [ゲームをプレイする](https://kaorina.github.io/math_game/)

---

## 🛠️ 開発者向け情報

### Claude Code カスタムコマンド

このプロジェクトでは、効率的な開発のためにカスタムスラッシュコマンドを用意しています。

```
/issue {番号}
```

**使用例:**
```
/issue 6
```

このコマンドを実行すると、指定されたIssueを標準フローで実装します：
1. Issue確認
2. `asakura_{番号}` ブランチ作成
3. 実装作業
4. 簡潔な日本語でコミット
5. PR作成（Summary + Test plan形式）

### 🧪 テストの実行方法

このプロジェクトでは、Cypressを使用したE2E（End-to-End）テストを導入しています。

#### **事前準備**
```bash
# 依存関係をインストール
npm install
```

#### **テスト実行方法**

##### 1. **インタラクティブモード（推奨）**
```bash
# Cypress GUIを開く
npm run test:open
```
- ブラウザでテストを視覚的に確認可能
- デバッグが容易
- テスト実行過程を詳細に確認

##### 2. **ヘッドレスモード（高速実行）**
```bash
# 全テストを実行
npm test

# または
npm run test:headless
```
- GUI表示なしで高速実行
- CI/CD環境での実行方式

##### 3. **個別テストファイルの実行**
```bash
# 基本的なゲームフローのみ
npx cypress run --spec "cypress/e2e/game-flow.cy.js"

# エラーハンドリングのみ
npx cypress run --spec "cypress/e2e/error-handling.cy.js"

# アクセシビリティのみ
npx cypress run --spec "cypress/e2e/accessibility.cy.js"
```

#### **テスト内容**
- **基本的なゲームフロー** (16テスト): 難易度選択、ゲーム開始、問題表示、回答選択、スコア更新、ゲーム終了
- **エラーハンドリング** (18テスト): 無効な難易度、DOM要素不在、JavaScript エラー処理
- **アクセシビリティ** (25テスト): キーボードナビゲーション、スクリーンリーダー対応、ARIA属性

#### **CI/CD自動テスト**
プルリクエスト作成時にGitHub Actionsで自動実行：
- ヘッドレスモードで高速実行
- テスト失敗時のスクリーンショット・動画保存
- テスト結果サマリーの自動生成

---

## 📚 ゲームの特徴

| 機能              | 説明 |
|-------------------|------|
| 🔢 難易度選択     | 「2年生（＋−）」または「3年生（×÷）」を選択可能 |
| ⏱️ タイマー       | 30秒の制限時間で集中力UP |
| 📊 スコア＆正答率 | 解答数・正解数・正答率をリアルタイムで表示 |
| 🖼️ キャラ画像     | 親しみやすいビジュアルで楽しく学べる |
| 🔁 リトライ機能   | 終了後は「もう一度あそぶ」ボタンで再プレイ可能 |

---
